<!--biReader - your parallel reading resource.
Copyright (C) 2018 Carson Wilson

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.-->

<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>biReader: your parallel reading resource</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Chrome: allow "home screen" on tablet: -->
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="manifest" href="site.webmanifest">
    <!--<link rel="apple-touch-icon" href="icon.png">-->
    <!-- Place favicon.ico in the root directory -->

    <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/css/ratchet.css" rel="stylesheet"/>-->
    <!--<link rel="stylesheet" type="text/css" href="css/ss-style.css"/>-->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/andadaFont.css">
    <link rel="stylesheet" href="css/fontawesome-all.css">

    <!--<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">-->

    <!--<script src="js/syncscroll.js"></script>-->
</head>
<body>

<audio preload="auto" id="buttonClick">
    <source src="audio/click1a.ogg" type="audio/ogg">
    <source src="audio/click1a.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<!--biReader splash screen-->
<div id="biReaderSplash" class="modal">
    <!--<div class="modal-content" style="background-color: #3a768f">-->
    <div class="modal-content" style="font-size: 1.1em;">
        <!--<div style="text-align:center; width:100%">-->
        <img src="img/bireader2f.png" style="width: 40%;
            max-width: 705px;min-width: 12rem;margin-left: 6%;">
        <!--</div>-->
        <div style="margin-left: 6%; margin-right: 6%; margin-top: 2%; overflow: auto; height: 60vh">
            Welcome to <a href="http://bireader.com">biReader</a>, your parallel reading resource.<br>
            <br>
            <b>Features:</b>
            <ul>
                <li>Synchronized reading of left and right panes</li>
                <li>Click or tap a sentence to hear it read aloud</li>
                <li>Long-click or long-tap a word to see its definition</li>
                <li>Adjustable font size, weight, and speaking speed</li>
                <li>To load content:
                    <ul>
                        <li>Select texts from online library</li>
                        <li>Select files from local storage</li>
                        <li>Drag-and-drop files, or</li>
                        <li>Paste text to right and/or left pane</li>
                    </ul>
                </li>
            </ul>
            <b>Requirements:</b><br>
            <ul>
                A recent release of Chrome, Firefox, or Edge running on:
                <ul>
                    <li>Desktop (Windows, Mac, Linux)</li>
                    <li>Tablet (Android, iPad)</li>
                    <li>Phone (Android, iPhone)</li>
                </ul>
            </ul>
            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem
            aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni
            dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor
            sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore
            magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis
            suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in
            ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas
            nulla pariatur? At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium
            voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non
            provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et
            harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi
            optio cumque nihil impedit quo minus id quod maxime placeat facere
            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem
            aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni
            dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor
            sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore
            magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis
            suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in
            ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas
            nulla pariatur? At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium
            voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non
            provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et
            harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi
            optio cumque nihil impedit quo minus id quod maxime placeat facere
            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem
            aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni
            dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor
            sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore
            magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis
            suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in
            ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas
            nulla pariatur? At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium
            voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non
            provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et
            harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi
            optio cumque nihil impedit quo minus id quod maxime placeat facere
        </div>
        <br>
        <span id=closeSplash class="modal-close">&times;</span>
        <button id=noSplashButton class="myButton">Do not show this again</button>
        <br>
        <br>

    </div>
</div>

<!--Popup control panel:-->
<div id="controlsBackground" class="modal">
    <div class="modal-content">
        <div>
            <label for="speakSpeed">Speaking rate:</label>
            <span id="currentSpeakSpeed" class="rangeLabel"></span>
            <input id="speakSpeed" class=lbSlider type="range" min="0.1" max="5" step="0.1">
        </div>
        <br>
        <div>
            <label for="textSize">Text size:</label>
            <span id="currentTextSize" class="rangeLabel"></span>
            <input id="textSize" class=lbSlider type="range" min="7" max="50" value="17" step="1">
        </div>
        <br>
        <!--todo: change landscape button to a toggle here:-->
        <!--todo: only offer this button on mobile devices:-->
        <div id="fullScreenControls">
            <button class="myButton" onclick="launchFullscreen(document.documentElement);">
                Go fullscreen landscape
            </button>
            <br><br>
            <label for="FSPromptCB"><input id="FSPromptCB" type="checkbox"> Full screen landscape prompt at
                startup</label>
            <br><br>
        </div>
        <label for="boldCB"><input id="boldCB" type="checkbox" class="lbCheckbox"> Bold font</label>
        &nbsp;&nbsp;
        <label for="splashCB"><input id="splashCB" type="checkbox" class="lbCheckbox"> Show splash screen at
            startup</label>
        <span id=closeControls class="modal-close">&times;</span>
    </div>
</div>

<div id="fullScreenDialog" class="modal">
    <div class="modal-content">
        For best performance with mobile devices, try full screen landscape mode:
        <br>
        <br>
        <button class="myButton" onclick="launchFullscreen(document.documentElement);">
            Go fullscreen landscape
        </button>
        <br>
        <br>
        <button class="myButton" id=noFullScreenButton>No thanks</button>
        <button class="rightButton myButton" id=noFSpromptButton>Do not show this again</button>
    </div>
</div>

<div id=Help class="modal">
    <div class="modal-content">
        <h2>biReader</h2>

        <h3 style="color: red">Mobile works best with Google Chrome's "Add to Home screen" option.
            Desktop works best with Chrome or Firefox.
        </h3>

        You may provide texts of the same article in different languages by pasting them
        to the two panels, or drag-and-drop local files to the panels, or click on the "load"
        buttons to select files from your local disc. Or click on "Load Files from Online Library" to
        choose an existing pairing from the online library.
        <!--
                todo: update this description and show it when the user opens the file selection dialogue:
                    The files should contain <strong>plain text,
                    using UTF-8 encoding</strong>,
                    of the same article or story
                    but written in two different languages (e.g., left = English and right = German).
                    Text should consist of paragraphs separated by double returns (control characters
                    CR,LF,CR,LF, which is 0D, 0A, 0D, 0A when shown as hexadecimal codes).
        -->
        Language Bridge will attempt to present the two texts
        as equal height, synchronously scrolling panels, and to pronounce sentences
        in their native language
        when you click on them or a series of sentences when you click-and-drag over them.
        It will also attempt to show a definition of a word if you long-click (tablet: long-tap)
        on it (PoC: French to English only).
        <br><br>
        PLEASE NOTE: this program is currently Proof Of Concept ONLY; it easily fails on invalid file
        input as no input validity checks are yet in place.
        <br><br>
        <!--<button id="helpCloseButton" class="bridgeButton">Done</button>-->
        <i id="helpCloseButton" title="Close Help Screen"
           class="bridgeButton modal-close iconButton fas fa-window-close"></i>
    </div>
</div>


<!--<div class="md-modal md-effect-1" id="modal-1">
    <div class="md-content">
        <h3>Modal Dialog</h3>
        <div>
            <p>This is a modal window. You can do the following things with it:</p>
            <ul>
                <li><strong>Read:</strong> modal windows will probably tell you something important so don't forget to
                    read what they say.
                </li>
                <li><strong>Look:</strong> a modal window enjoys a certain kind of attention; just look at it and
                    appreciate its presence.
                </li>
                <li><strong>Close:</strong> click on the button below to close the modal.</li>
            </ul>
            <button class="md-close">Close me!</button>
        </div>
    </div>
</div>-->

<div id=Info class="md-modal md-effect-1">
    <div class="md-content">
        <h2>biReader version&nbsp;<span id="bridgeVersion"></span></h2>
        <hr>
        Your language:&nbsp;
        <span id="userLang"></span>
        <hr>
        Voices currently supported by your browser:
        <span id="vList">
    </span>
        <hr>
        Source URL:
        <span id="fileURL"></span>
        <!--<span id=closeInfo class="modal-close">&times;</span>-->
        <i id="closeInfo" title="Close Info Screen" class="modal-close iconButton fas fa-window-close"></i>
        <!--Keep close button within modal:-->
        <br><br><br><br>
    </div>
</div>

<input type="file" id="leftFileChoice" style="display: none"/>

<input type="file" id="rightFileChoice" style="display: none"/>

<!--todo: make "responsive" (use CSS formulae?):-->
<div class="vertContainer">

    <!--todo: if landscape, show buttons on left side of screen rather than top:-->
    <div id="topRowButtons" class="horizContainer">
        <i id="libraryLoadButton" title="Load files from online library"
           class="iconButton fas fa-cloud-download-alt"></i>
        <i id="controlsButton" title="Settings" class="iconButton fas fa-cogs"></i>
        <i id="infoButton" title="Information" class="iconButton fas fa-info"></i>
        <i id="helpButton" title="Help" class="iconButton fas fa-question"></i>
    </div>

    <div class="horizContainer modal" id="fileChooserModal">
        <!--Filled in at runtime:-->
        <div id="leftFilePopup">
            <select id="leftFileSelect">
            </select>
        </div>
        <div id="rightFilePopup">
            <select id="rightFileSelect">
            </select>
        </div>
    </div>


    <div class="horizContainer">
        <!--        <div id=leftColumnHeader class="myColumnHeader">
                </div>-->
        <label id=leftColumnHeader class="myColumnHeader" for="leftFileChoice" title="Load left file from disc">
            Load left file from disc
        </label>

        <!--<div id=rightColumnHeader class="myColumnHeader">-->
        <label id=rightColumnHeader class=myColumnHeader for="rightFileChoice" title="Load right file from disc">
            Load right file from disc</label>
    </div>

    <div class="horizContainer" id="textColumns">
        <div id=leftColumn class="myColumn frame">
            <p id=leftPara class="clickable myPara">
                <span class=colInstructions>
                    Drag-and-drop a file, or paste text here.
                </span>
            </p>
        </div>

        <div id=rightColumn class="myColumn frame">
            <p id=rightPara class="clickable myPara">
                <span class=colInstructions>
                    Drag-and-drop a file, or paste text here.
                </span>
            </p>
        </div>
    </div>

    <div id=vocab class="container frame" style="margin: 2%">
        <span id="glosbeBuf" class="clickable" style="height: 10vh; margin: 10px">
            <span class="colInstructions">Long-click a word for definition here.</span>
        </span>
        <span style="position: absolute; bottom: 0; right: 5px; font-size: x-small">
        Translations provided by <a href="https://glosbe.com/" target="_blank">Glosbe</a>.</span></div>
</div>

<div class="md-overlay"></div>

<!--<script src="js/vendor/modernizr-3.5.0.min.js"></script>-->

<script src="js/iexplorer-test.js"></script>

<!--<script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>-->
<script src="js/vendor/jquery-3.2.1.min.js"></script>
<script src="js/guessLang/_languageData.js"></script>
<script src="js/guessLang/guessLanguage.js"></script>
<script src="js/ISOmap.js"></script>

<!--<script src="js/node_modules/google-translate-api"></script>-->
<!--<script>window.jQuery || document.write('<script src="js/vendor/jquery-3.2.1.min.js"><\/script>')</script>-->

<!--<script src="js/plugins.js"></script>-->
<script src="js/main.js"></script>

<!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
<!--<script>-->
<!--window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;-->
<!--ga('create','UA-XXXXX-Y','auto');ga('send','pageview')-->
<!--</script>-->
<!--<script src="https://www.google-analytics.com/analytics.js" async defer></script>-->

</body>
</html>
